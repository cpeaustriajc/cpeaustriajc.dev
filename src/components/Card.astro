---
import { clsx } from "clsx";
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
  coverImage: ImageMetadata;
  coverImageAlt: string;
  title: string;
  link: string;
  orientation: "portrait" | "landscape";
}

const { orientation, link, title, coverImage, coverImageAlt } = Astro.props;

const aspectRatio = clsx(
  orientation === "portrait" ? "aspect-[3/4]" : "aspect-[4/3]",
);
---

<a href={link} target="_blank">
  <article
    class={`relative w-full h-full shadow-2xl shadow-neutral-900 ${aspectRatio}`}
  >
    <Image
      class={`-z-10 absolute h-full w-full ${aspectRatio}`}
      src={coverImage}
      alt={coverImageAlt}
    />
    <div
      class={`flex flex-col h-full justify-center items-center motion-safe:xl:opacity-0 motion-safe:xl:hover:opacity-100 motion-safe:xl:hover:backdrop-blur-lg motion-reduce:opacity-100 motion-reduce:shadow-inner backdrop-brightness-[.25] motion-reduce:transition-none transition-all motion-safe:ease-in-out motion-safe:duration-500 shadow-2xl`}
    >
      <h3 class="text-5xl font-bold text-neutral-50">{title}</h3>
    </div>
  </article>
</a>
